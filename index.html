<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PickHub | TDS Hub</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="sidebar">
        <div class="brand">
                    PickHub | TDS Hub
                </div>
                <ul class="nav-links">
                    <li class="nav-item active" data-view="towers">Towers</li>
                    <li class="nav-item" data-view="loadout">Loadout</li>
                    <li class="nav-item" data-view="automation">Automation</li>
                    <li class="nav-item" data-view="visuals">Visuals</li>
                </ul>
                <div class="connection-status">
                    <span class="status-dot connected"></span>
                    System Online
                </div>
            </div>
            <div class="main-content">
        <!-- Connect Overlay -->
        <div id="connect-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 1000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px);">
            <div class="card" style="width: 400px; padding: 40px; text-align: center; border: 1px solid var(--border-color); box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
                <h2 style="margin-bottom: 20px; color: var(--primary-color);">Connect to Game</h2>
                <p style="color: var(--text-secondary); margin-bottom: 25px;">Enter the Access Code displayed in your Roblox script window.</p>
                <input type="text" id="access-code-input" class="search-bar" placeholder="Enter Access Code" style="text-align: center; font-size: 1.2rem; letter-spacing: 2px; margin-bottom: 20px;">
                <button class="btn btn-full btn-primary" onclick="connectToScript()">Connect</button>
                <p id="connect-error" style="color: #ff4d4d; margin-top: 15px; font-size: 0.9rem; display: none;"></p>
            </div>
        </div>

        <div id="section-header" class="section-header">
            <h2>Towers</h2>
            <p>Select towers to add to your loadout</p>
        </div>

        <div id="towers" class="view-section active">
            <input type="text" id="search-input" class="search-bar" placeholder="Search towers...">
            <div class="tower-grid" id="tower-grid"></div>
        </div>
        <div id="loadout" class="view-section">
            <div class="loadout-container" id="loadout-container"></div>
            <button class="btn btn-full" onclick="applyConfig()" style="margin-top: 20px; background-color: #3ba55c; color: white;">Apply to Game</button>
            <div style="margin-top: 20px; border-top: 1px solid var(--border-color); padding-top: 20px;">
                <p style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 10px;">Manual Export</p>
                <button class="btn btn-full btn-primary" onclick="generateCode()">Generate Code</button>
                <textarea id="config-output" class="search-bar" style="height: 100px; margin-top: 10px;" readonly placeholder="Generated code will appear here..."></textarea>
                <button class="btn btn-full" onclick="copyCode()">Copy Code</button>
            </div>
        </div>
        <div id="automation" class="view-section">
            <div class="control-grid">
                <div class="control-card">
                    <div class="info">
                        <div class="title">Auto Chain</div>
                        <div class="description">Automatically chain commanders</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="autochain"><span class="slider"></span></label>
                </div>
                <div class="control-card">
                    <div class="info">
                        <div class="title">Auto DJ</div>
                        <div class="description">Manage DJ abilities</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="autodj"><span class="slider"></span></label>
                </div>
                <div class="control-card">
                    <div class="info">
                        <div class="title">Auto Necromancer</div>
                        <div class="description">Spawn units automatically</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="autonecro"><span class="slider"></span></label>
                </div>
                <div class="control-card">
                    <div class="info">
                        <div class="title">Auto APC</div>
                        <div class="description">Manage APC units</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="autoapc"><span class="slider"></span></label>
                </div>
                <div class="control-card">
                    <div class="info">
                        <div class="title">Auto Military</div>
                        <div class="description">Manage Military Base</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="automilitary"><span class="slider"></span></label>
                </div>
                <div class="control-card">
                    <div class="info">
                        <div class="title">Auto Mercenary</div>
                        <div class="description">Manage Mercenary Base</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="automercenary"><span class="slider"></span></label>
                </div>
            </div>
        </div>
        <div id="visuals" class="view-section">
            <div class="control-grid">
                <div class="control-card">
                    <div class="info">
                        <div class="title">Player ESP</div>
                        <div class="description">See players through walls</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="pesp"><span class="slider"></span></label>
                </div>
                <div class="control-card">
                    <div class="info">
                        <div class="title">Zombie ESP</div>
                        <div class="description">Highlight enemies</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="zesp"><span class="slider"></span></label>
                </div>
                <div class="control-card">
                    <div class="info">
                        <div class="title">World Enabled</div>
                        <div class="description">Modify environment settings</div>
                    </div>
                    <label class="switch"><input type="checkbox" id="world-enabled"><span class="slider"></span></label>
                </div>
                <div class="control-card">
                    <div class="info">
                        <div class="title">Time Scale</div>
                        <div class="description">Adjust world time</div>
                    </div>
                    <input type="number" id="world-time" value="14.5" step="0.5" style="width: 80px; padding: 8px; border-radius: 6px; border: 1px solid var(--border-color); background: var(--bg-color); color: var(--text-primary);">
                </div>
            </div>
        </div>
    </div>
            <div id="login-overlay" class="login-overlay">
                <div class="login-box">
                    <div class="brand" style="justify-content: center; font-size: 2rem;">PickHub | TDS Hub</div>
                    <p style="text-align: center; color: var(--text-secondary); margin-bottom: 20px;">Please enter your Roblox Code to continue.</p>
                    <input type="password" id="access-code" class="search-bar" placeholder="Enter Access Code..." style="margin-bottom: 15px; text-align: center;">
                    <button class="btn btn-full btn-primary" onclick="attemptLogin()">Connect & Login</button>
                    <div id="login-status" style="margin-top: 15px; text-align: center; font-size: 0.9rem; height: 20px;"></div>
                </div>
            </div>
            <div id="equip-modal" class="modal">
        <div class="modal-content">
            <span id="close-modal" class="close-modal">&times;</span>
            <h3 id="modal-tower-name">Tower</h3>
            <div class="slot-selection">
                <div class="slot-btn" onclick="equipToSlot(0)">1</div>
                <div class="slot-btn" onclick="equipToSlot(1)">2</div>
                <div class="slot-btn" onclick="equipToSlot(2)">3</div>
                <div class="slot-btn" onclick="equipToSlot(3)">4</div>
                <div class="slot-btn" onclick="equipToSlot(4)">5</div>
            </div>
        </div>
    </div>
    <div id="toast" class="toast"></div>
    <script src="script.js"></script>
</body>
</html>
